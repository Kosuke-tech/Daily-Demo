{{ 'c_parallax.css' | asset_url | stylesheet_tag }}

{% if section.settings.img_pc != blank and section.settings.overlay_pc != blank %}
  <div class="c_parallax-overlay">
    <div class="c_parallax__image c_parallax-overlay__image">
      <picture>
        {% if section.settings.overlay_sp != blank %}
          <source srcset="{{ section.settings.overlay_sp | image_url: width: 800 }}" media="(max-width: 750px)">
        {% endif %}
        <img
          class="c_image"
          src="{{ section.settings.overlay_pc | image_url: width: 3840 }}"
          width="1920"
          height="800"
          alt="{{ section.settings.overlay_pc.alt }}"
        >
      </picture>
    </div>
  </div>
{% endif %}

{% if section.settings.img_pc != blank %}
  <div class="c_parallax-section">
    <div class="c_parallax__wrapper">
      <div class="c_parallax__image">
        <picture>
          {% if section.settings.img_sp != blank %}
            <source srcset="{{ section.settings.img_sp | image_url: width: 800 }}" media="(max-width: 750px)">
          {% endif %}
          <img
            class="c_image"
            src="{{ section.settings.img_pc | image_url: width: 3840 }}"
            width="1920"
            height="800"
            alt="{{ section.settings.img_pc.alt }}"
          >
        </picture>
      </div>
    </div>
  </div>
{% endif %}

{% if section.settings.img_pc != blank %}
  <div class="c_parallax__image c_parallax__decoration">
    <div class="c_parallax__decoration__inner">
      <div class="c_parallax__decoration-image">
        <img
          src="{{ section.settings.decoration | image_url: width: 800 }}"
          width="230"
          height="230"
          alt="{{ section.settings.decoration.alt }}"
        >
      </div>
      {% if section.settings.textarea != blank %}
        <div class="c_parallax__decoration-text">
          {{ section.settings.textarea | newline_to_br }}
        </div>
      {% endif %}
    </div>
  </div>
{% endif %}

{% schema %}
{
  "name": "Custom：Parallax",
  "settings": [
    {
      "type": "image_picker",
      "id": "img_pc",
      "label": "画像(PC)"
    },
    {
      "type": "image_picker",
      "id": "img_sp",
      "label": "画像(SP)"
    },
    {
      "type": "image_picker",
      "id": "overlay_pc",
      "label": "オーバーレイ(PC)"
    },
    {
      "type": "image_picker",
      "id": "overlay_sp",
      "label": "オーバーレイ(SP)"
    },
    {
      "type": "image_picker",
      "id": "decoration",
      "label": "装飾"
    },
    {
      "type": "textarea",
      "id": "textarea",
      "label": "テキストエリア",
      "default": "テキストを入力してください。"
    }
  ],
  "presets": [
    {
      "name": "Custom:Parallax"
    }
  ]
}
{% endschema %}
